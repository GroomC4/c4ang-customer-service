server:
  port: 8082
spring:
  application:
    name: customer-api
  jpa:
    hibernate:
      ddl-auto: none
      naming:
        implicit-strategy: org.springframework.boot.orm.jpa.hibernate.SpringImplicitNamingStrategy
        physical-strategy: org.hibernate.boot.model.naming.CamelCaseToUnderscoresNamingStrategy
    properties:
      hibernate:
        format_sql: true  # SQL 포맷팅 (logback에서 레벨 제어)
    show-sql: false  # Console SQL 출력 비활성화 (logback으로 제어)

# ====================================
# 기본 로그 레벨 (프로필 미지정 시)
# ====================================
logging:
  level:
    # ROOT 레벨 - INFO (기본값)
    root: INFO

    # 프로젝트 패키지 - INFO 레벨
    com.groom.ecommerce: INFO

    # Spring Framework - INFO
    org.springframework: INFO
    org.springframework.web: INFO
    org.springframework.security: INFO

    # Hibernate/JPA - WARN (기본값)
    org.hibernate: WARN
    org.hibernate.SQL: WARN

  file:
    path: ./logs  # 로그 파일 저장 경로

encryption:
  encoder:
    bcrypt-strength: 10

security:
  jwt:
    key-id: ecommerce-key-1
    issuer: ecommerce-service-api
    audience: ecommerce-api  # Istio RequestAuthentication과 일치해야 함
    accessTokenExpirationMinutes: 5
    refreshTokenExpirationDays: 3
    # RSA 키는 환경별 프로필에서 설정
    private-key: ${JWT_PRIVATE_KEY:}
    public-key: ${JWT_PUBLIC_KEY:}

springdoc:
  api-docs:
    path: /api-docs
  swagger-ui:
    path: /swagger-ui

# Feign Client 설정 (FeignClientProperties로 관리)
feign:
  clients:
    store-service:
      url: http://localhost:8083
      connect-timeout: 5000
      read-timeout: 5000
      logger-level: basic
  client:
    config:
      default:
        connectTimeout: 5000
        readTimeout: 5000
        loggerLevel: basic
